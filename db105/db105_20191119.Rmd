---
title: "R_basic2"
author: "York Lin"
date: "2019年11月19日"
output: html_document
editor_options: 
  chunk_output_type: console
---
### Dataframe
```{R}
data("iris")
head(iris)
tail(iris)
tail(iris, 10)
str(iris)
summary(iris)

#取前三列資料
iris[1:3,]
#取前三列第一行的資料
iris[1:3,1]
#取前三列Sepal.Length欄位的資料
iris[1:3,"Sepal.Length"]
head(iris[,1:2])
iris$"Sepal.Length"[1:3]

#取前五筆包含length 及 width 的資料
Five.Sepal.iris = iris[1:5, c("Sepal.Length","Sepal.Width")]
#可以用條件做篩選
setosa.data = iris[iris$Species=="setosa",1:5]
str(setosa.data)

#使用which 做資料篩選
which(iris$Species=="setosa")

#用order做資料排序
iris[order(iris$Sepal.Length, decreasing = TRUE),]
sort(iris$Sepal.Length, decreasing = TRUE)
```

### File read and write
```{R}
# getwd()
setwd('~/lecture/riii')
# setwd("__your_working_directory_path__")
tw2330 = read.csv("data/2330.csv", header=TRUE)
#tw2330 = read.csv('https://github.com/YuHsuanLin/riii/raw/master/data/2330.csv')
test.data = read.table("data/match.txt" ,header = FALSE, sep="|")
```

### as. is.
```{R}
# as. 形態或物件轉換
as.numeric(c("1","2","3"))
# is. 判斷式
is.na(c(1,2,3,NA))
```

### p70
```{R}
setwd('~/lecture/riii')
tw2330 = read.csv("./data/2330.csv", header=TRUE)
str(tw2330)
tw2330$Date = as.Date(tw2330$Date)

tw2330_2017 = tw2330[(tw2330$Date >= '2017-01-01' & tw2330$Date < '2018-01-01'),]
max(tw2330_2017$Close)
ordered_stock = tw2330_2017[order(tw2330_2017$Close, decreasing = T),]
```

### List
```{R}
item= list(thing='hat',size=8.25)
item$thing
item$size

flower= list(title="iris dataset", data= iris)
class(flower)
class(flower$data)
flower$data[1,"Sepal.Width"]

li = list(c(1,2,3,4),c(5,6,7,8))
li[[1]]
```
